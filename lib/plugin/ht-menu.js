!function(A,V){"use strict";var L="ht",W=A[L],m="innerHTML",G="className",z=null,i="px",O=W.Default,o=O.getInternal(),j="0",K=function(){return document},Z=function(g){return K().createElement(g)},x=function(){return Z("canvas")},N=function(V,o,n){V.style.setProperty(o,n,z)},h=function(k,Q,D){O.def(W.widget[k],Q,D)},e=function(b,I){b.appendChild(I)},r=function(H,z){H.removeChild(z)},U=o.addEventListener,v=o.removeEventListener,M=O.isTouchable,c=O.isTouchEvent;o.addMethod(O,{menuLabelFont:(M?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),W.widget.Menu=function(T){var f=this,z=f._view=o.createView(null,f),$=f.$1g=new W.widget.ContextMenu,x=Z("ul");$._r=!0,$._view[G]+=" ht-widget-dropdownmenu",z[G]="ht-widget-menu",x[G]="header",N(z,"margin",j),N(z,"padding",j),N(z,"background",O.menuBackground),N(z,"-webkit-user-select","none"),N(z,"-moz-user-select","none"),N(z,"user-select","none"),N(z,"text-align","left"),N(z,"border-bottom",O.menuSeparatorWidth+"px solid "+O.menuSeparatorColor),N(z,"cursor","default"),N(z,"overflow","auto"),N(z,"white-space","nowrap"),N(z,"font",O.menuLabelFont),N(z,"color",O.menuLabelColor),N(z,"box-sizing","border-box"),N(z,"-moz-box-sizing","border-box"),N(x,"list-style","none"),N(x,"margin",j),N(x,"padding",j),N(x,"display","inline-block"),e(z,x),f.setItems(T),f.$2g=function(k){f.$3g(k)},f.$4g=function(O){f.$5g(O)},f.$6g=function(z){f.$7g(z)},f.$8g=function(t){f.$9g(t)},f.$9b=function(A){f.$10g(A)},f._autoShow=!0,f.setAutoShow(!1),$.afterHide=function(){f.$11g()},$.afterShow=function(){f.$12g()},v(K(),"keydown",$.$3b),f.$3b=function(N){f.$13g(N)},f.invalidate()},h("Menu",V,{_items:z,$14g:O.menuHoverBackground,$15g:O.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(X){var q=this;if(q.$21g=X,q.setItems(q._items),"largeicons"===X){for(var c=q._view.querySelectorAll(".header-item"),g=0,t=0;t<c.length;t++){var T=c[t];g=Math.max(g,T.clientWidth)}for(var t=0;t<c.length;t++){var T=c[t];N(T,"min-width",g+i)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(D){this.$22g=D;for(var $=this._view.querySelectorAll(".header-item"),W=0;W<$.length;W++){var Y=$[W];N(Y,"margin-left",D+i),N(Y,"margin-right",D+i)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(U){this.$23g=U;for(var G=this._view.querySelectorAll(".header-item"),Z=0;Z<G.length;Z++){var $=G[Z];N($,"margin-top",U+i),N($,"margin-bottom",U+i)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(l){this.$24g=l,N(this._view,"text-align",l)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var n=this,h=n._enableGlobalKey;h===!1&&(U(K(),"keydown",n.$3b),n._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,v(K(),"keydown",this.$3b)},setHoverBackground:function(F){this.$14g=F},setHoverColor:function(H){this.$15g=H},setItems:function(t){var V=this,J=V._view,r=V.$21g;if(V._items=t,J.children[0][m]="",V.$16g={},t&&t.length){for(var b=J.children[0],I=0,T=K().createDocumentFragment();I<t.length;I++){var g=t[I],p=Z("li"),F=Z("span");if(g.icon){var i=x();i[G]="menu-item-icon","smallicons"===r?(N(i,"height","1.2em"),N(i,"width","1.2em"),N(i,"vertical-align","middle")):(N(i,"height","32px"),N(i,"width","32px"),N(i,"display","block"),N(i,"margin","0 auto")),i.$20g=g.icon,e(p,i)}p[G]="header-item",N(p,"display","inline-block"),N(p,"vertical-align","top"),N(p,"padding","0 1.2em"),N(p,"line-height","1.8em"),"largeicons"===r&&N(p,"text-align","center"),N(p,"background-color","rgba(0,0,0,0)"),p.setAttribute("data-index",I),V.$16g[I]=g.items,F[m]=g.label,"iconsonly"!==r&&e(p,F),e(T,p)}e(b,T)}},showDropdownMenu:function(Z){var I=this,h=I.$16g[Z],x=I.$1g,c=I._view.children[0].children[Z],m=I.$17g;if(c&&c!==m){m&&I.hideDropdownMenu();var d=c.getBoundingClientRect(),k=O.getWindowInfo();I.$17g=c,x.setItems(h),x.show(d.left+k.left,d.top+d.height+k.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(H,n){var Y=this,s=Y._items;return s&&0!==s.length?Y.$1g.getItemByProperty(H,n,s):z},$12g:function(){var h=this,r=h.$17g;r.style.background=h.$14g,r.style.color=h.$15g,h._autoShow||U(K(),M?"touchstart":"mousedown",h.$9b)},$11g:function(){var b=this,f=b.$17g;f&&(f.style.background="",f.style.color="",b.$17g=z),v(K(),M?"touchstart":"mousedown",b.$9b)},$10g:function(w){var R=this,i=R._view,n=R.$1g,A=i.children[0];!K().body.contains(i)||A.contains(w.target)||n._view.contains(w.target)||R.hideDropdownMenu()},$13g:function(p){var b=this,H=b.$1g;K().body.contains(b._view)&&H.$13b.$4b.call(H.$13b,p,b._items)},setAutoShow:function(o){var d=this,F=d.$1g,r=d._view;d._autoShow!==o&&(d._autoShow?(v(r,"mouseover",d.$2g),v(r,"mouseout",d.$4g),v(F._view,"mouseout",d.$4g),M||(U(r,"mouseover",d.$8g),U(r,"mouseout",d.$8g)),U(r,M?"touchstart":"mousedown",d.$6g)):(v(r,"mouseover",d.$8g),v(r,"mouseout",d.$8g),v(r,M?"touchstart":"mousedown",d.$6g),v(K(),M?"touchstart":"mousedown",d.$9b),M||(U(r,"mouseover",d.$2g),U(r,"mouseout",d.$4g),U(F._view,"mouseout",d.$4g))),d._autoShow=o)},$3g:function(I){var r=this,E=r._view.children[0],e=I.target;if(E!==e&&E.contains(e)){for(;"header-item"!==e[G];)e=e.parentNode;r.showDropdownMenu(e.getAttribute("data-index"))}},$5g:function(E){var G=this,R=G._view.children[0],F=G.$1g,p=E.target,W=E.relatedTarget;!R.contains(p)&&!F._view.contains(p)||R.contains(W)||F._view.contains(W)||G.hideDropdownMenu()},$7g:function($){$.preventDefault();var g=this,u=g._view.children[0],o=g.$1g,R=$.target;if(O.isLeftButton($)&&u!==R&&u.contains(R))if(c($)){for(;"header-item"!==R[G];)R=R.parentNode;var J=R.getAttribute("data-index"),o=g.$1g,N=g._view.children[0].children[J],v=g.$17g;o.isShowing()&&g.hideDropdownMenu(),N!==v&&g.showDropdownMenu(J)}else if(o.isShowing())g.hideDropdownMenu();else{for(;"header-item"!==R[G];)R=R.parentNode;g.showDropdownMenu(R.getAttribute("data-index"))}},$9g:function(B){var C=this,r=C._view,t=C.$1g,q=B.target;if(r.contains(q)){for(var k=r.querySelectorAll(".header-item"),O=z,s=0;s<k.length;s++){var l=k[s];l.style.background="",l.style.color="","mouseover"===B.type?l.contains(q)&&(O=l):"mouseout"===B.type&&t.isShowing()&&C.$17g===l&&(O=l)}t.isShowing()&&(O||(O=C.$17g),C.showDropdownMenu(O.getAttribute("data-index"))),O&&(O.style.background=C.$14g,O.style.color=C.$15g)}},getShowingMenuIndex:function(){var x=this.$17g;return x?x.getAttribute("data-index"):-1},addTo:function(b){var v=this,T=v._view;e(b,T),v.invalidate()},dispose:function(){var B=this,p=B._view,u=B.$1g;p&&(B._autoShow?(v(p,"mouseover",B.$2g),v(p,"mouseout",B.$4g),v(u._view,"mouseout",B.$4g)):(v(p,"mouseover",B.$8g),v(p,"mouseout",B.$8g),v(p,M?"touchstart":"mousedown",B.$6g),v(K(),M?"touchstart":"mousedown",B.$9b)),v(K(),"keydown",B.$3b),u.dispose(),p.parentNode&&r(p.parentNode,p),B._view=B.$1g=B.$16g=B._items=B.$17g=B.$2g=B.$4g=B.$6g=B.$8g=B.$9b=B.$3b=z)},$19g:function(V,$,y,j){var x=o.initContext(V);o.translateAndScale(x,0,0,1),x.clearRect(0,0,y,j),O.drawStretchImage(x,O.getImage($),"fill",0,0,y,j),x.restore()},validateImpl:function(){var t,K,M,z=this,$=z._view,R=$.querySelectorAll(".menu-item-icon");for(M=0;M<R.length;M++){var j=R[M];t=j.clientWidth,K=j.clientHeight,t&&K&&(o.setCanvas(j,t,K),z.$19g(j,O.getImage(j.$20g),t,K))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);