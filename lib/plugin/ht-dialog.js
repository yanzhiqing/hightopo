!function(S,t){"use strict";var Y="ht",l=S[Y],h="px",F="left",R="top",j="bottom",P="right",O="innerHTML",V="className",u="",G="width",k="height",n="string",X="position",p="absolute",A="0",_="opacity",D="background",U=l.Default,o=U.getInternal(),E=l.Color,d=U.animate,H=U.isTouchable,L=null,r=(Math.sqrt,S.parseInt),w=S.setTimeout,s=(Math.round,E.titleIconBackground),Q=function(B){return typeof B===n||B instanceof String},i=function(){return document},B=function(V){return i().createElement(V)},v=function(){var e=B("div");return e.tabIndex=-1,e.style.outline="none",e},M=function(){return B("canvas")},e=function($,E){m($,"-webkit-transform",E),m($,"-ms-transform",E),m($,"transform",E)},m=function(g,t,U){g.style.setProperty(t,U,L)},$=function(t,f,N){U.def(l.widget[t],f,N)},J=function(d,w){d.appendChild(w)},c=function(){return i().documentElement},I=function(){return c().clientWidth},q=function(){return c().clientHeight},g=U.eventListenerOptionsFalse,T=(U.eventListenerOptionsTrue,function(P,H,X,q){P.addEventListener(H,X,q?g:g)}),C=function(k,D,l,v){k.removeEventListener(D,l,v?g:g)},y=function(l){var H=l.touches[0];return H?H:l.changedTouches[0]};o.addMethod(U,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:s},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:s}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:s},{type:"rect",rect:[10,10,80,20],background:s}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:s},{type:"rect",rect:[10,34,56,14],background:s},{type:"rect",rect:[34,10,56,14],background:s},{type:"rect",rect:[82,10,8,56],background:s},{type:"rect",rect:[66,62,24,8],background:s}]},dialogTitleLabelColor:U.labelSelectColor,dialogTitleLabelFont:(H?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:U.labelFont,dialogTitleBackground:E.titleBackground,dialogHeaderBackground:E.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var b=function(J){var b=this;b.$1d=J,b.addListeners()};U.def(b,t,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(S){var c=this,F=c.$1d,$=F.$6d,v=F._config,w=F.$7d,x=S,r=S.target;if(w.contains(r)||U.preventDefault(S),U.isLeftButton(S)){H&&(x=y(S));var X=c.$8d={x:x.pageX,y:x.pageY};c.$9d={x:X.x,y:X.y},!v.maximized&&v.draggable&&$.contains(r)&&(c.$4d=!0,U.startDragging(c,S)),c.handle_mousemove(S)&&(c.$2d=!0,U.startDragging(c,S)),w.contains(S.target)||F.$41d.focus()}},handle_mousedown:function(R){this.handle_touchstart(R)},handle_touchend:function(o){if(U.isLeftButton(o)&&!this.$5d&&!this.$3d){var y=this,J=y.$1d,S=o.target,e=J._config,F=J.$18d,c=J.$16d;for(e.closable&&F.contains(S)&&J.hide(),e.maximizable&&c.contains(S)&&(e.maximized?J.restore():J.maximize());S&&(S.className||"").indexOf("dialog-button")<0;)S=S.parentNode;S&&S.buttonItem&&J.action&&J.action(S.buttonItem,o),delete y.$8d,delete y.$9d}},handle_mouseup:function(f){this.handle_touchend(f)},handleWindowTouchEnd:function(U){var Q=this,R=Q.$1d,O=R.$10d;Q.$2d&&Q.$3d?O.fire({kind:"endResize",target:R,originEvent:U}):Q.$4d&&Q.$5d&&O.fire({kind:"endMove",target:R,originEvent:U}),this.clear()},handleWindowMouseUp:function(p){this.handleWindowTouchEnd(p)},handle_mousemove:function(b){var W=this.$1d._config;if(W.maximized)return!1;if("w"!==W.resizeMode&&"h"!==W.resizeMode&&"wh"!==W.resizeMode)return!1;var S=this,D=S.getView(),M=D.querySelector(".resize-area"),k=M.getBoundingClientRect(),Q={x:k.left,y:k.top,width:k.width,height:k.height};b=H?y(b):b;var h=b.clientX,_=b.clientY,v={x:h,y:_};return U.containsPoint(Q,v)?(m(D,"cursor","nwse-resize"),!0):(m(D,"cursor",u),void 0)},handleWindowTouchMove:function(E){E.preventDefault();var u=E;H&&(u=y(E));var K=this,P=K.$8d,J=K.$9d;if(!(J.x==P.x&&J.y==P.y&&U.getDistance(J,{x:u.pageX,y:u.pageY})<=1)){var t=K.$1d,p=t._config,N=t.$21d,Y=p.resizeMode||"wh",i=u.pageX-P.x,o=u.pageY-P.y;if(K.$2d){var W=N.offsetWidth,x=N.offsetHeight,G=W+i,s=x+o;if(G=Math.max(G,50),s=Math.max(s,50),"center"===p.position||p.position==L){var b={},d=N.getBoundingClientRect();b.x=d.left,b.y=d.top,p.position=b}"w"===Y?(t.setSize(G,x),P.x+=G-W):"h"===Y?(t.setSize(W,s),P.y+=s-x):"wh"===Y&&(t.setSize(G,s),P.x+=G-W,P.y+=s-x),K.$3d?t.$10d.fire({kind:"betweenResize",target:t,originEvent:E}):(K.$3d=!0,t.$10d.fire({kind:"beginResize",target:t,originEvent:E}))}else if(K.$4d){var D=N.getBoundingClientRect(),M=D.width,A=D.height,z=I(),C=q(),V=r(N.style.left)||0,O=r(N.style.top)||0,X=V+i,Q=O+o,Z=t.adjustPosition({x:X,y:Q},{width:M,height:A},{width:z,height:C});Z&&(X=Z.x,Q=Z.y);var v=X-V,w=Q-O;m(N,F,X+h),m(N,R,Q+h),P.x+=v,P.y+=w,p.position={x:X,y:Q},K.$5d?t.$10d.fire({kind:"betweenMove",target:t,originEvent:E}):(K.$5d=!0,t.$10d.fire({kind:"beginMove",target:t,originEvent:E}))}}},handleWindowMouseMove:function(h){this.handleWindowTouchMove(h)},handleWindowResize:function(){var C=this,_=C,Z=_._config,x=_.$21d,L=I(),y=q(),W=Z.width,n=Z.height,r=Z.position||"center";Z.maximized?(m(x,G,L+h),m(x,k,y+h),m(x,R,A),m(x,F,A)):(m(x,G,W+h),m(x,k,n+h),"center"===r?(m(x,F,(L-W)/2+h),m(x,R,(y-n)/2+h)):(m(x,F,r.x+h),m(x,R,r.y+h))),_.iv()},handle_mousewheel:function(b){b.stopPropagation()},handle_DOMMouseScroll:function(j){j.stopPropagation()}}),l.widget.Dialog=function(c){var q=this,K=q._view=o.createView(null,q);K[V]="ht-widget-dialog",m(K,X,p),U.baseZIndex!=L&&m(K,"z-index",U.baseZIndex+"");var J=q.$11d=new b(q);q.bindingHandleWindowResize=J.handleWindowResize.bind(q),q.$10d=new l.Notifier,c&&q.setConfig(c)},$("Dialog",t,{ms_v:1,ms_fire:1,setTitle:function(M){this._config.title=M,this.getView().querySelector(".dialog-container-title span").innerHTML=M},clearNodes:function(y){if(y)for(;y.firstChild;)y.removeChild(y.firstChild)},$31d:function(){var r=this,I=r.$6d=v(),y=r._config,j=r.$12d=r.$13d();I[V]="dialog-container-title",m(I,"cursor","default"),m(I,"white-space","nowrap"),m(I,"overflow","hidden"),m(I,"font",U.dialogTitleLabelFont),m(I,D,y.titleBackground||U.dialogTitleBackground),m(I,"color",y.titleColor||U.dialogTitleLabelColor);var t=B("span"),p=r.$25d();if(y.titleAlign&&m(I,"text-align",y.titleAlign),y.titleIcon){var X=r.$14d=r.$15d();J(I,X)}if(y.title&&y.title.trim&&(y.title=y.title.trim()),t[O]=y.title||"&nbsp;",J(I,t),y.maximizable){var L=r.$16d=r.$17d();J(j,L)}if(y.closable){var u=r.$18d=r.$19d();J(j,u)}return J(I,j),m(I,"display","block"),m(I,"line-height",p+h),I},$13d:function(){var q=v();return m(q,X,p),m(q,F,A),m(q,P,5+h),m(q,R,A),m(q,j,A),m(q,"text-align",P),m(q,"white-space","nowrap"),q[V]="dialog-title-controls",q},$20d:function(){var P=this.$21d=v(),t=this._config,W=t.borderWidth;return m(P,X,"fixed"),m(P,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),m(P,"padding",A+" "+W+h+" "+W+h+" "+W+h),m(P,"box-sizing","border-box"),m(P,"-moz-box-sizing","border-box"),P[V]="dialog-container",m(P,D,t.titleBackground||U.dialogTitleBackground),P},$22d:function(){var D,b=this,Z=b._config,g=b.$7d=v(),t=Z.content,M=0,W=Z.contentPadding||0;Z.buttons!=L&&Z.buttons.length>0&&(M=32),Q(t)?g[O]=t:t.getView?(D=t.getView(),J(g,D)):(D=t,J(g,D)),m(g,X,p),m(g,"font",U.dialogContentLabelFont),l.Default.appendToScreen(g);var e=g.offsetWidth+1,x=g.offsetHeight,$=b.$25d();return Z.width==L&&(Z.width=e+10+2*W),Z.height==L&&(Z.height=x+$+M+5+2*W),l.Default.removeHTML(g),D&&(m(D,"box-sizing","border-box"),m(D,"-moz-box-sizing","border-box"),m(D,G,"100%"),m(D,k,"100%")),g[V]="dialog-content",m(g,R,$+W+h),m(g,j,M+W+h),m(g,F,W+h),m(g,P,W+h),m(g,"overflow","hidden"),g},getOverlayDiv:function(){return this.$41d},$23d:function(){var Z=this.$41d=v();return Z[V]="dialog-overlay",m(Z,G,"100%"),m(Z,k,"100%"),m(Z,X,"fixed"),m(Z,R,A),m(Z,F,A),m(Z,D,"rgba(235, 235, 235, 0.7)"),Z},_config:L,setSize:function(H,D){var d=this,o=d._config;o&&(o.width=H,o.height=D,d.isShowing()&&(d.bindingHandleWindowResize(),d.iv()))},getConfig:function(){return this._config},$24d:function(){var b=this._config,r=b.titleIconSize||16;return H&&(r*=1.2),r},$25d:function(){var f=this._config,x=f.titleHeight||U.widgetTitleHeight;return x},$26d:function(z){m(z,"cursor","pointer"),m(z,"display","inline-block"),m(z,"margin-right",(H?8:4)+h),m(z,"vertical-align",R)},$27d:function(){var i=this.$30d=v(),C=10;return H&&(C=20),m(i,G,C+h),m(i,k,C+h),m(i,X,p),m(i,j,A),m(i,P,A),i[V]="resize-area",i},$15d:function(){var e=this,Y=M();Y[V]="dialog-title-control dialog-title-control-icon";var w=e.$25d(),S=e.$24d();return e.$26d(Y),o.setCanvas(Y,S,w),Y},$17d:function(){var r=M();r[V]="dialog-title-control dialog-title-control-maximize";var N=this.$25d(),_=this.$24d();return this.$26d(r),o.setCanvas(r,_,N),r},$19d:function(){var R=M();R[V]="dialog-title-control dialog-title-control-close";var K=this.$25d(),a=this.$24d();return this.$26d(R),o.setCanvas(R,a,K),R},$28d:function(){var B=v();return m(B,D,"white"),m(B,G,"100%"),m(B,k,"100%"),m(B,X,"relative"),B},$29d:function(){var w=this,Q=v();m(Q,"line-height",32+h),m(Q,X,p),m(Q,j,A),m(Q,F,A),m(Q,"white-space","nowrap"),m(Q,"overflow","hidden"),m(Q,P,A),m(Q,D,U.dialogHeaderBackground),Q[V]="dialog-container-buttons";var o=this._config,$=o.buttonsAlign||P,N=0;return m(Q,"text-align",$),w.$42d=[],o.buttons.forEach(function(E){var A=new l.widget.Button,Z=A.getView();Z[V]="dialog-button "+E.className,Z.buttonItem=E,w.$42d.push(A),A.setBorderColor(L),A.setBackground(U.dialogButtonBackground),A.setSelectBackground(U.dialogButtonSelectBackground),A.setLabelColor(U.dialogButtonLabelColor),m(Z,X,"relative"),m(Z,"display","inline-block"),m(Z,"text-align",F),m(Z,"height",24+h);var O=H?10:5;$===F||$===P?m(Z,"margin-"+$,O+h):0===N||m(Z,"margin-"+F,O+h),m(Z,"vertical-align","middle");var D=U.getTextSize(A.getLabelFont(),E.label).width+10;A.onClicked=function(q){E.action&&E.action.call(w,E,q)},A.setLabel(E.label),A.setDisabled(E.disabled),m(Z,G,D+h),J(Q,A.getView()),N++}),Q},setConfig:function(e){if(e){var u=this,b=u._view;u._config=e,u.action=e.action,u.clearNodes(b),e.borderWidth==L&&(e.borderWidth=5);var w=u.$23d(),D=u.$28d(),M=u.$31d(),X=u.$22d(),z=u.$20d(),_=u.$30d=u.$27d();if(J(b,w),J(b,z),J(z,D),J(D,M),J(D,X),e.buttons!=L&&e.buttons.length>0){var n=u.$29d();J(D,n)}J(z,_),e.maximized?(e.maximized=!1,u.bindingHandleWindowResize(),u.maximize(!0)):u.bindingHandleWindowResize(),u.isShowing()&&u.iv()}},hide:function(){var i=this,w=i.$21d,J=i.$41d,$=i._view;$[V]="ht-widget-dialog",d(w).duration(200).scale(.7).set(_,A).end(function(){i.onHidden&&i.onHidden(),l.Default.removeHTML($),i.$10d.fire({kind:"hide",target:i})}),d(J).duration(200).set(_,A).end(),C(S,"resize",i.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(K){this.$41d.style.display=K?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var z=this,k=z._config,Y=z.$21d;e(Y,u),z.iv(),k.maximized?z.$10d.fire({kind:"maximize",target:z}):z.$10d.fire({kind:"restore",target:z})},maximize:function(t){var e=this,z=e.$21d,B=e._config;if(!B.maximized){B.maximized=!0,e.$33d(),e.$16d[V]="dialog-title-control dialog-title-control-minimize";var X=I(),Z=q(),J=B.width,p=B.height,x=r(z.style.left)||0,P=r(z.style.top)||0;e.$36d=J,e.$37d=p,e.$34d=x,e.$35d=P;var y=t?0:200;d(z).duration(y).set(F,A).set(R,A).set(G,X+h).set(k,Z+h).end(function(){e.$32d()})}},restore:function(){var u=this,y=u.$34d,_=u.$35d,m=u.$36d,S=u.$37d,Q=u._config;if(Q.maximized&&(Q.maximized=!1,u.$33d(),u.$16d[V]="dialog-title-control dialog-title-control-maximize",u.isShowing()&&y!=L&&_!=L&&m!=L&&S!=L)){var l=u.$21d;d(l).duration(200).set(F,y+h).set(R,_+h).set(G,m+h).set(k,S+h).end(function(){u.$32d()})}delete u.$34d,delete u.$35d,delete u.$36d,delete u.$37d},show:function(){var o=this,z=o._view,b=o._config,s=o.$21d,J=o.$41d;b&&b.zIndex!=L&&m(z,"z-index",b.zIndex+u),l.Default.appendToScreen(z),e(s,"scale(0.7)"),m(s,_,A),o.iv(),o.validate(),o._view[V]+=" dialog-show",w(function(){d(s).duration(200).scale(1).set(_,"1").end(function(){m(s,G,s.clientWidth+h),m(s,k,s.clientHeight+h),o.onShown&&o.onShown(),o.$10d.fire({kind:"show",target:o});var i=b&&b.content;i&&i.iv&&i.iv()}),d(J).duration(200).set(_,"1").end(),T(S,"resize",o.bindingHandleWindowResize)},30)},setPosition:function(F){var L=this.$21d;L.style.left=F.x+"px",L.style.top=F.y+"px"},addEventListener:function(N,W,T){this.$10d.add(N,W,T)},removeEventListener:function(l,Q){this.$10d.remove(l,Q)},$38d:function(k,d,n,f){var Z=o.initContext(k);o.translateAndScale(Z,0,0,1),Z.clearRect(0,0,n,n);var q=(n-f)/2;U.drawStretchImage(Z,U.getImage(d),"fill",0,q,f,f),Z.restore()},$33d:function(){var h=this,A=h._config,D=h.$16d,l=A.maximized?U.dialogRestoreIcon:U.dialogMaximizeIcon;if(D&&l){var q=h.$25d(),K=h.$24d();h.$38d(D,U.getImage(l),q,K)}},$39d:function(){var Y=this,$=Y._config,z=Y.$14d,M=$.titleIcon;if(z&&M){var g=Y.$25d(),o=Y.$24d();Y.$38d(z,U.getImage(M),g,o)}},$40d:function(){var F=this,Y=F.$18d,m=U.dialogCloseIcon;if(Y&&m){var K=F.$25d(),T=F.$24d();F.$38d(Y,U.getImage(m),K,T)}},invalidate:function(I){var h=this,W=h.$42d;h._68I||(h._68I=1,U.callLater(h.validate,h,L,I),h.onInvalidated&&h.onInvalidated(),h.fireViewEvent("invalidate"));var B=h._config.content;B.invalidate&&B.invalidate(),W&&W.forEach(function(t){t.iv()})},validateImpl:function(){var y=this;y.$40d(),y.$33d(),y.$39d();var Z=y._config.content;Z.initView&&(Z.setX(0),Z.setY(0),Z.setWidth(y.$7d.clientWidth),Z.setHeight(y.$7d.clientHeight))},adjustPosition:function(g,_,y){var V=_.width,k=_.height,J=y.width,E=y.height,A=g.x,u=g.y,q=this._config,M=q.minDragSize||20;return"inside"===q.dragMode?(A+V>J&&(A=J-V),u+k>E&&(u=E-k),0>A&&(A=0),0>u&&(u=0)):(null==q.dragMode||"none"===q.dragMode)&&(-V+M>A&&(A=-V+M),A>J-M&&(A=J-M),u>E-M&&(u=E-M),0>u&&(u=0)),{x:A,y:u}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);