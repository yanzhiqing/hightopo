!function(P,Q,v){"use strict";var a="ht",N=P[a],o=N.Default,y=o.isTouchable,e=N.Color,i="px",Y="0",k="innerHTML",W="className",A="position",c="absolute",r="width",T="height",L="left",w="top",I="right",E="bottom",x="max-width",G="max-height",K=null,l="none",j="",C=P.parseInt,M=P.setTimeout,$=o.getInternal(),_=o.animate,z=e.titleIconBackground,R=function(){return document},m=function(J){return R().createElement(J)},n=function(){return m("div")},F=function(){return m("canvas")},u=function(i,t,Q){i.style.setProperty(t,Q,K)},X=function(D,d){return D.style.getPropertyValue(d)},q=function(r,j){r.appendChild(j)},d=function(g,A){g.removeChild(A)},h=o.eventListenerOptionsFalse,s=(o.eventListenerOptionsTrue,function(D,Z,A,u){D.addEventListener(Z,A,u?h:h)}),J=function(q){var n=q.scrollWidth,W=q.scrollHeight;return q===R().body&&(n=Math.max(n,R().documentElement.scrollWidth),W=Math.max(W,R().documentElement.scrollHeight)),{width:n,height:W}},g=function(v){var k=v.touches[0];return k?k:v.changedTouches[0]};$.addMethod(o,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:z,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:z}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:z},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:z}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:z},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:z}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:z},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:z},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:z},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:z}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:z},{type:"rect",rect:[10,118,268,56],background:z},{type:"rect",rect:[10,213,268,56],background:z}]},panelTitleLabelColor:o.labelSelectColor,panelTitleLabelFont:o.labelFont,panelContentLabelFont:o.labelFont,panelTitleBackground:e.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:v},!0);var H=N.widget.Panel=function(F){var W=this,M=W._view=$.createView(null,W);W.$1i=0,W.$18i=new N.Notifier,W.$2i="leftTop",u(M,w,Y),u(M,L,Y),u(M,A,c),u(M,"overflow","hidden"),W._interactor=new V(W),W.setConfig(F),W.addEventListener(function(Q){var Y=W.getPanelConfig(Q.id),H=Y.content;("beginRestore"===Q.kind||"betweenResize"===Q.kind||"endToggle"===Q.kind)&&(H&&H.invalidate&&H.invalidate(),Y.items&&Y.items.forEach(function(u){u&&u.content&&u.content.invalidate&&u.content.invalidate()}))})};o.def(H,Q,{ms_v:1,_dragContainment:"parent",setConfig:function(F){function y(S){S.expanded=!S.expanded,G.togglePanel(S.id,!0,!0)}if(F){for(var G=this,_=G._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);G._config=F,G.$35i=[],F.expanded==K&&(F.expanded=F.expand!=K?F.expand:!0);var k=G._view,b=G.$24i(F,k,!0),C=b[2],X=F.width;G.$35i.push(b[1]),F.items&&F.items.forEach(function(y){y.expanded==K&&(y.expanded=y.expand!=K?y.expand:!0);var q=G.$24i(y,C.children[0]);G.$35i.push(q[1])});var H=n();u(H,r,10+i),u(H,T,10+i),u(H,A,c),u(H,E,Y),u(H,I,Y),H[W]="resize-area",q(k,H),G.$10i(),F.flowLayout&&u(k,A,"relative"),u(k,"opacity",Y),q(R().body,k),X==K&&(X=k.offsetWidth),u(k,r,X+i),u(k,x,X+i);var P=F.content;P&&P.isSelfViewEvent&&(P.setX(0),P.setY(0),P.setWidth(X-2*(F.borderWidth||0)),P.setHeight(F.contentHeight)),F.items&&F.items.forEach(function(h){y(h)}),F.buttons&&F.buttons.indexOf("toggle")<0||y(F),F.minimized==K&&F.minimize!=K&&(F.minimized=F.minimize),F.minimized&&F.minimizable!==!1&&G.minimize(!0),d(R().body,k),u(k,"opacity",j),_&&q(_,k),G.iv()}},getPanelConfig:function(w){var R=this,V=R._config,z=V.items;if(V.id===w)return V;if(z)for(var c=0;c<z.length;c++){var Q=z[c];if(Q.id===w)return Q}},getPanelView:function(_){for(var D=this,c=D.$35i,G=0;G<c.length;G++){var v=c[G],q=v.parentNode;if(q.$15i===_)return q}},setDragContainment:function($){this._dragContainment=$},getDragContainment:function(){return this._dragContainment},$20i:function(){var P=this._config,q=P.restoreIconSize||24;return q},$5i:function(e){var n=e.titleIconSize||16;return y&&(n*=1.2),n},$4i:function(N){var L=N.titleHeight||o.widgetTitleHeight;return L},setTitle:function(O,S){if(S==K&&(S=this._config.id),S!=K){var Y=this.getPanelConfig(S),s=this.getPanelView(S);Y.title=O,s.querySelector(".panel-title span").innerHTML=O}},setInnerPanel:function(L){var M,n,S=this,O=L.id,s=S.$35i,z=!1;if(L.expanded==K&&(L.expanded=!0),O!=K){var A=S.getPanelConfig(O);if(A){z=!0;var k,X=S.getPanelView(O),g=X.parentNode,Q=X.children[0];if(X!==S._view){S.$11i();for(k in A)delete A.key;for(k in L)A[k]=L[k];M=S.$24i(L,g,!1,X),n=M[1],g.removeChild(X);for(var r=0;r<s.length;r++)if(s[r]===Q){s.splice(r,1,n);break}S.$12i(),A.expanded=!A.expanded,S.togglePanel(A.id,!0,!0),S.iv()}}}if(!z){S.$11i(),M=S.$24i(L,S._view.children[1]),n=M[1],s.push(n),S._config.items||(S._config.items=[]);var D=S._config.items;if(D.push(L),S.$12i(),D.length>1){var H=D[D.length-2],v=S.getPanelView(H.id).children[0];u(v,"border-bottom",S.$55i(H))}L.expanded=!L.expanded,S.togglePanel(L.id,!0,!0),S.iv()}},removeInnerPanel:function(T){var c,C=this,O=-1,q=C._config.items;if(q)for(c=0;c<q.length;c++){var r=q[c];if(r.id===T){O=c;break}}if(C.$11i(),O>=0){var o=C.$35i,$=C.getPanelView(T),z=$.children[0];for(c=0;c<o.length;c++)if(o[c]===z){o.splice(c,1);break}q.splice(O,1),$.parentNode.removeChild($)}if(C.$12i(),q.length>0){var g=q[q.length-1],V=C.getPanelView(g.id).children[0];u(V,"border-bottom",C.$55i(g))}},$6i:function(d){u(d,"cursor","pointer"),u(d,"display","inline-block"),u(d,"margin-right",(y?8:4)+i),u(d,"vertical-align",w)},$24i:function(d,J,f,G){var C=this,H=C._config.flowLayout,j=f?J:n(),P=C.$50i(d),S=C.$3i(d,f);j[W]="ht-widget-panel"+(f?" outer-panel":" inner-panel"),d.borderWidth==K&&(d.borderWidth=f?2:0);var U=d.borderWidth;if(U="0 "+U+i+" "+U+i+" "+U+i+" ",u(j,"border-width",U),u(j,"border-color",d.titleBackground||o.panelTitleBackground),u(j,"border-style","solid"),q(j,S),q(j,P),f||(G?J.insertBefore(j,G):q(J,j)),!H&&f&&d.minimizable!==!1){var D=F(),a=C.$20i(),x=d.restoreToolTip;$.setCanvas(D,a,a),D[W]="control-button button-minimize button-minimize-restore",C.$6i(D),u(D,"display","none"),q(J,D),D.title=x||""}var w=d.panelBackground||d.titleBackground||o.panelTitleBackground;if(u(j,"background-color",w),d.id==K){for(var g=C.$1i++;C.getPanelConfig(g);)g=C.$1i++;d.id=g}return j.$15i=d.id,d.width&&(j.style.width=d.width+i),[j,S,P]},$9i:function(C){var E=F();E[W]="control-button button-toggle button-toggle-expand",E.title=C.toggleToolTip||"";var D=this.$4i(C),e=this.$5i(C);return this.$6i(E),$.setCanvas(E,e,D),E},$8i:function(j){var c=F(),k="control-button button-independent-switch";c[W]=j.independent===!0?k+" button-independent-switch-on":k+" button-independent-switch-off",c.title=j.independentSwitchToolTip||"";var v=this.$4i(j),f=this.$5i(j);return this.$6i(c),$.setCanvas(c,f,v),c},$7i:function(k){var j=F();j[W]="control-button button-minimize button-minimize-minimize",j.title=k.minimizeToolTip||"";var q=this.$4i(k),S=this.$5i(k);return this.$6i(j),$.setCanvas(j,S,q),j},$55i:function(e){var W=this._config,G=W.items,T=e.separatorWidth||o.panelSeparatorWidth,y=e.titleBackground||o.panelTitleBackground,F=e.expanded!==!1?y:e.separatorColor||o.panelSeparatorColor||o.brighter(y);return(W===e||G&&G.indexOf(e)===G.length-1)&&(T=0),T+i+" solid "+F},$3i:function(h,g){var H=this,Q=H._config.flowLayout,d=n(),J=n(),P=H.$4i(h),N=h.titleBackground,v=h.titleColor,X=h.titleIcon,l=h.buttons;if(d[W]="panel-title",u(d,A,"relative"),u(d,"background",N||o.panelTitleBackground),u(d,"color",v||o.panelTitleLabelColor),u(d,w,Y),u(d,"box-sizing","border-box"),u(d,"-moz-box-sizing","border-box"),u(d,"padding","0 5px 0 0"),u(d,r,"100%"),u(d,"cursor","default"),u(d,"white-space","nowrap"),u(d,"font",o.panelTitleLabelFont),X){var B=F();B[W]="control-button panel-title-icon";var e=H.$4i(h),K=H.$5i(h);H.$6i(B),$.setCanvas(B,K,e),q(d,B)}var p=m("span");u(p,"display","inline-block"),u(p,"margin-left","5px"),p[k]="<span>"+h.title+"</span>",q(d,p),u(d,"line-height",P+i),J[W]="panel-title-controls",u(J,A,c),u(J,L,Y),u(J,I,5+i),u(J,w,Y),u(J,E,Y),u(J,"text-align",I);var G=function(){var E=H.$9i(h);q(J,E)},t=function(){if(!Q&&g&&h.minimizable!==!1){var F=H.$7i(h);q(J,F)}},O=function(){if(!g){var C=H.$8i(h);q(J,C)}},y=function(R){var t=F();t[W]="control-button custombutton-"+R.name,t.title=R.toolTip||"",t._action=R.action;var v=H.$4i(h),r=H.$5i(h);H.$6i(t),$.setCanvas(t,r,v),q(J,t)};if(l)for(var R=0;R<l.length;R++){var j=l[R];"string"==typeof j?"minimize"===j?t():"independentSwitch"===j?O():"toggle"===j&&G():"object"==typeof j&&y(j)}else t(),G();return q(d,J),d},$50i:function(l){var m=n(),e=l.contentHeight,E=n();u(E,A,"relative"),m[W]="panel-body",u(m,"overflow","hidden");var K=l.contentBackground;if(K===v&&(K="white"),u(m,"background",K),u(m,"font",o.panelContentLabelFont),q(m,E),l.content){var S,X=l.content;X.getView?(q(E,X.getView()),S=E.children[0]):X instanceof Element?(q(E,X),S=E.children[0]):E[k]=X,X.isSelfViewEvent||S&&(u(S,r,"100%"),u(S,T,"100%")),e&&u(E,T,e+i)}return m},$10i:function(){var G=this,k=G._config,D=G._view,n=D.querySelector(".resize-area").style;n.display=k.flowLayout||k.minimized===!0||k.expanded===!1?l:"block"},$11i:function(){var R=this._view,e=R.children[1];this.$13i>=0?this.$13i++:this.$13i=1,u(e,G,j),u(R,x,j)},$12i:function(){var S=--this.$13i;if(0===S){var o=this._view,z=o.children[1];u(z,G,z.scrollHeight+i),u(o,x,o.offsetWidth+i)}},$14i:function(){var r=this._view,e=r.children[0],d=e.children[1].children,S=this._config,A=0;r.$26i=r.offsetWidth,A+=e.children[0].offsetWidth,S.titleIcon&&(A+=e.children[1].offsetWidth,d=e.children[2].children);for(var M=0;M<d.length;M++){var z=d[M];A+=z.offsetWidth+5}r.$51i=A+15},togglePanel:function(f,w,b){function P(N){var A=N.target,v=A.parentNode,C=Z.getPanelConfig(v.$15i);delete v.$19i,A!==O&&Z.$12i(),Z.$18i.fire({kind:"endToggle",target:Z,id:C.id})}for(var Z=this,q=Z._view,O=q.children[1],J=K,l=Z.$35i,$=l.length,B=Z._config.exclusive,E=Z.$2i,n=[],k=Z._config.narrowWhenCollapse,t=0;$>t;t++){var v=l[t],N=v.parentNode,s=N.$15i,H=Z.getPanelConfig(s);s===f&&(J=N),!w&&B&&H.expanded&&N!==q&&s!==f&&H.independent!==!0&&n.push(N)}if(J&&!J.$19i){J.$19i=!0;var I=J.children[1],p=J.querySelector(".button-toggle"),A=Z.getPanelConfig(J.$15i);if(!p)return;J===q||A.expanded||A.independent===!0||n.forEach(function(R){Z.togglePanel(R.$15i,!0)}),J!==q&&Z.$11i();var R=200;if(b&&(R=0),Z.$18i.fire({kind:"beginToggle",target:Z,id:J.$15i}),A.expanded){var C=function(){p[W]="control-button button-toggle",p[W]+=E.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",u(I,r,I.clientWidth+i),A.expanded=!1,u(J.children[0],"border-bottom",Z.$55i(A)),_(I).duration(R).set("opacity",Y).set(G,Y).end(P),k&&J===q&&_(J).duration(R).set(x,J.$51i+i).end(),J[W]+=" panel-collapse",_(J).duration(R).set("padding-bottom",Y).end(),Z.$28i(A,!0),Z.$10i()};k&&J===q&&Z.$14i(),C()}else p[W]="control-button button-toggle",p[W]+=E.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",u(I,r,j),A.expanded=!0,u(J.children[0],"border-bottom",Z.$55i(A)),_(I).duration(R).set("opacity","1").set(G,I.scrollHeight+i).end(P),k&&J===q&&_(J).duration(R).set(x,(J.$26i||J.offsetWidth)+i).end(),J[W]=J[W].replace(" panel-collapse",j),_(J).duration(R).end(),Z.$28i(A,!0),Z.$10i()}},$16i:function(){var g=this._view,T=g.$22i,i=g.$23i,W=this.$2i;return T==K&&(W.indexOf(L)>=0?T=g.$22i=0:W.indexOf(I)>=0&&(T=g.$22i=100)),i==K&&(W.indexOf("Top")>=0?i=g.$23i=0:W.indexOf("Bottom")>=0&&(i=g.$23i=100)),[T,i]},$25i:function(){var K=this,V=K._view,N=V.$21i,r=K.$20i(),U=K.$16i(),P=U[0],h=U[1],G=K.$2i;V.children[0].style.display=l,V.children[1].style.display=l,V.children[2].style.display=j,u(V,"padding",Y),u(V,x,r+i),"leftTop"===G?(u(V,L,C(X(V,L))+(N.width-r)*P/100+i),u(V,w,C(X(V,w))+(N.height-r)*h/100+i)):"leftBottom"===G?(u(V,L,C(X(V,L))+(N.width-r)*P/100+i),u(V,E,C(X(V,E))+(N.height-r)*(1-h/100)+i)):"rightTop"===G?(u(V,I,C(X(V,I))+(N.width-r)*(1-P/100)+i),u(V,w,C(X(V,w))+(N.height-r)*h/100+i)):"rightBottom"===G&&(u(V,I,C(X(V,I))+(N.width-r)*(1-P/100)+i),u(V,E,C(X(V,E))+(N.height-r)*(1-h/100)+i)),V[W]+=" panel-minimized",K.$18i.fire({kind:"endMinimize",target:K,id:V.$15i})},$17i:function(){var M=this,T=M._config,Z=M._view;u(Z,"-webkit-transform",j),u(Z,"-ms-transform",j),u(Z,"transform",j),T.minimized?M.$25i():(M.$18i.fire({kind:"endRestore",target:M,id:T.id}),Z[W]=Z[W].replace(" panel-minimized",j)),delete Z.$19i},minimize:function(g){var n=this,e=n._view;if(!e.$19i&&e.children[0].style.display!==l){var a=n._config,N=e.getBoundingClientRect(),O=n.$20i(),E=N.width,p=N.height,z=O/E,f=O/p,V=n.$16i(),G=V[0],D=V[1];e.$52i=z,e.$53i=f,e.$21i=N,n.$18i.fire({kind:"beginMinimize",target:n,id:e.$15i});var r=200;g&&(r=0),a.minimized=!0,e.$19i=!0,a.expanded&&(e.$26i=e.offsetWidth);var K=G+"% "+D+"%";u(e,"-webkit-transform-origin",K),u(e,"-ms-transform-origin",K),u(e,"transform-origin",K),_(e).duration(r).scale(z,f).end(function(){n.$17i()}),n.$10i()}},restore:function(){var P,T,Q,Y,d,m,$,e,H,z,g,b,F=this,S=F._view,j=S.parentNode,V=F._config;if(!S.$19i&&V.minimized){var f=S.$21i,t=S.$52i,h=S.$53i,a=(V.borderWidth+i,F.$20i()),K=J(j),A=F.$2i;"leftTop"===A?(P=C(X(S,L)),Q=C(X(S,w)),d=P,$=Q,H=P+f.width-K.width,z=Q+f.height-K.height,H>0&&(H>=P?P=0:P-=H),z>0&&(z>=Q?Q=0:Q-=z),g=100*((d-P)/(f.width-a)),b=100*(($-Q)/(f.height-a)),u(S,L,P+i),u(S,w,Q+i)):"leftBottom"===A?(P=C(X(S,L)),Y=C(X(S,E)),d=P,e=Y,H=P+f.width-K.width,z=Y+f.height-K.height,H>0&&(H>=P?P=0:P-=H),z>0&&(z>=Y?Y=0:Y-=z),g=100*((d-P)/(f.width-a)),b=100*(1-(e-Y)/(f.height-a)),u(S,L,P+i),u(S,E,Y+i)):"rightTop"===A?(T=C(X(S,I)),Q=C(X(S,w)),m=T,$=Q,H=T+f.width-K.width,z=Q+f.height-K.height,H>0&&(H>=T?T=0:T-=H),z>0&&(z>=Q?Q=0:Q-=z),g=100*(1-(m-T)/(f.width-a)),b=100*(($-Q)/(f.height-a)),u(S,I,T+i),u(S,w,Q+i)):"rightBottom"===A&&(T=C(X(S,I)),Y=C(X(S,E)),m=T,e=Y,H=T+f.width-K.width,z=Y+f.height-K.height,H>0&&(H>=T?T=0:T-=H),z>0&&(z>=Y?Y=0:Y-=z),g=100*(1-(m-T)/(f.width-a)),b=100*(1-(e-Y)/(f.height-a)),u(S,I,T+i),u(S,E,Y+i)),S.children[0].style.display="block",S.children[1].style.display="block",S.children[2].style.display=l,u(S,"-webkit-transform","scale("+t+", "+h+")"),u(S,"-ms-transform","scale("+t+", "+h+")"),u(S,"transform","scale("+t+", "+h+")"),S.$22i=g,S.$23i=b,u(S,"-webkit-transform-origin",g+"% "+b+"%"),u(S,"-ms-transform-origin",g+"% "+b+"%"),u(S,"transform-origin",g+"% "+b+"%"),V.narrowWhenCollapse&&!V.expanded?u(S,x,S.$51i+i):u(S,x,S.$26i+i),F.$18i.fire({kind:"beginRestore",target:F,id:S.$15i}),S.$19i=!0,V.minimized=!1,M(function(){_(S).scale(1,1).end(function(){F.$17i()})},30),F.$10i()}},addEventListener:function(_,l,K){this.$18i.add(_,l,K)},removeEventListener:function(y,H){this.$18i.remove(y,H)},setPosition:function(f,Q){var a=this._view,Y=this.$2i;"leftTop"===Y?(u(a,L,f+i),u(a,w,Q+i),u(a,I,j),u(a,E,j)):"leftBottom"===Y?(u(a,L,f+i),u(a,E,Q+i),u(a,I,j),u(a,w,j)):"rightTop"===Y?(u(a,I,f+i),u(a,w,Q+i),u(a,L,j),u(a,E,j)):"rightBottom"===Y&&(u(a,I,f+i),u(a,E,Q+i),u(a,L,j),u(a,w,j)),delete a.$22i,delete a.$23i},getPosition:function(){var s=this._view,j=this.$2i;return"leftTop"===j?{x:C(X(s,L)),y:C(X(s,w))}:"leftBottom"===j?{x:C(X(s,L)),y:C(X(s,E))}:"rightTop"===j?{x:C(X(s,I)),y:C(X(s,w))}:"rightBottom"===j?{x:C(X(s,I)),y:C(X(s,E))}:void 0},setPositionRelativeTo:function(i){var r=this,T=r._view.querySelectorAll(".button-toggle"),w="control-button button-toggle",b=r.getPosition();r.$2i=i,r.setPosition(b.x,b.y);for(var m=0;m<T.length;m++){var H=T[m],K=r.getPanelConfig(H.parentNode.parentNode.parentNode.$15i);H[W]=K.expanded?i.indexOf("Bottom")>=0?w+" button-toggle-collapse":w+" button-toggle-expand":i.indexOf("Bottom")>=0?w+" button-toggle-expand":w+" button-toggle-collapse"}r.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(I){var S=this;S._68I||(S._68I=1,o.callLater(S.validate,S,K,I),S.onInvalidated&&S.onInvalidated(),S.fireViewEvent("invalidate"));var J=this._config,U=J.content;U&&U.invalidate&&U.invalidate(),J.items&&J.items.forEach(function(h){h&&h.content&&h.content.invalidate&&h.content.invalidate()})},getIconStretch:function(){var v=this._config.iconStretch||"fill";return v},$27i:function(k,E,T,S,m){var c=$.initContext(k);$.translateAndScale(c,0,0,1),c.clearRect(0,0,T,T);var W=(T-S)/2;o.drawStretchImage(c,o.getImage(E),this.getIconStretch(m),0,W,S,S),c.restore()},$28i:function(s){var x,d,Z,M=this,I=s.id,u=M.getPanelView(I),l=u.querySelector(".button-toggle"),Q=M.$2i.indexOf("Bottom")>=0;if(d=Q?o.panelCollapseIcon:o.panelExpandIcon,Z=Q?o.panelExpandIcon:o.panelCollapseIcon,l){x=s.expanded?o.getImage(Z):o.getImage(d);var W=M.$4i(s),r=M.$5i(s);M.$27i(l,x,W,r,"toggle")}},$29i:function($){var y,_=this,P=$.id,A=_.getPanelView(P),B=A.querySelector(".button-independent-switch"),s=o.panelUnLockIcon,b=o.panelLockIcon;if(B){y=$.independent!==!0?o.getImage(b):o.getImage(s);var D=_.$4i($),L=_.$5i($);_.$27i(B,y,D,L,"switch")}},$30i:function(l){var K=this,w=l.id,t=K.getPanelView(w),L=t.querySelector(".button-minimize-minimize"),R=o.panelMinimizeIcon;if(L){var C=K.$4i(l),h=K.$5i(l);K.$27i(L,o.getImage(R),C,h,"miminize")}},$31i:function(a){var X=this,f=a.id,u=X.getPanelView(f),U=u.querySelector(".button-minimize-restore"),N=a.titleIcon||o.panelRestoreIcon;if(U){var s=X.$20i();X.$27i(U,o.getImage(N),s,s,"restore")}},$32i:function(O){var Q=this,P=O.id,v=Q.getPanelView(P);if(O.buttons){var M=O.buttons;M.forEach(function(e){var M=e.name,$=e.icon;if(M&&$){var H=v.querySelector(".custombutton-"+M);if(H){var s=Q.$4i(O),D=Q.$5i(O)-1;Q.$27i(H,o.getImage($),s,D,"custom")}}})}},$33i:function(G){var v=this,R=G.id,Y=v.getPanelView(R),y=Y.querySelector(".panel-title-icon"),C=G.titleIcon;if(y&&C){var M=v.$4i(G),K=v.$5i(G);v.$27i(y,o.getImage(C),M,K,"title")}},validateImpl:function(){var l=this,g=l._config;l.$28i(g),l.$30i(g),l.$31i(g),l.$32i(g),l.$33i(g),g.items&&g.items.forEach(function(b){l.$28i(b),l.$29i(b),l.$32i(b)})}});var V=function(h){var K=this,Q=h.getView();K.$34i=h,K.addListeners(),s(Q,"dblclick",K.$42i.bind(K))};o.def(V,Q,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(y){for(var Z=this.$34i,h=y.target,Q=Z.$35i,P=Q.length,i=0;P>i;i++){var X=Q[i];X.contains(h)&&(y.preventDefault(),Z.togglePanel(X.parentNode.$15i))}},handle_touchstart:function(q){var d=this,R=d.$34i,Q=R._config,m=Q.flowLayout,c=q;if(o.isLeftButton(q)){var i=q.target,v=R.getView().children[0],t=R.getView().querySelector(".button-minimize-restore");y&&(c=g(q));var f=d.$40i={x:c.pageX,y:c.pageY};d.$41i={x:f.x,y:f.y},(!m&&v.contains(i)||t&&t.contains(i))&&(d.$38i=!0,o.startDragging(d,q)),!m&&d.handle_mousemove(q)&&(d.$37i=!0,o.startDragging(d,q),R.$11i())}},handle_mousedown:function(P){this.handle_touchstart(P)},handle_touchend:function(s){var P=this,c=P.$34i,p=s.target,Z=c.$35i,G=Z.length,e=0,X=c.getView(),S=X.querySelector(".button-minimize"),Q=X.querySelector(".button-minimize-restore");if(!P.$39i&&!P.$36i){if(S&&S.contains(p)||Q&&Q.contains(p))s.preventDefault(),c._config.minimized?c.restore():c.minimize();else for(;G>e;e++){var k=Z[e],u=k.parentNode,n=u.$15i,V=c.getPanelConfig(n),g=k.querySelector(".button-toggle"),r=k.querySelector(".button-independent-switch");if(g===p)s.preventDefault(),c.togglePanel(n);else if(r===p){s.preventDefault();var q="button-independent-switch-off",M="button-independent-switch-on";V.independent=V.independent==K?!0:!V.independent,r[W]=V.independent?r[W].replace(q,M):r[W].replace(M,q),c.$29i(V)}else p[W]&&p[W].indexOf("control-button custombutton-")>=0&&k.contains(p)&&p._action.call(c,V,c.getPanelView(n),s)}delete P.$40i,delete P.$41i}},handle_mouseup:function(l){this.handle_touchend(l)},handleWindowTouchEnd:function(){var K=this,Q=K.$34i;K.$37i&&K.$36i?(Q.$18i.fire({kind:"endResize",target:Q,id:Q.getView().$15i}),Q.$12i()):K.$38i&&K.$39i&&Q.$18i.fire({kind:"endMove",target:Q,id:Q.getView().$15i}),this.clear()},handleWindowMouseUp:function(h){this.handleWindowTouchEnd(h)},handle_mousemove:function($){var u=this,t=u.getView(),v=t.querySelector(".resize-area"),q=v.getBoundingClientRect(),R={x:q.left,y:q.top,width:q.width,height:q.height};$=y?g($):$;var O=$.clientX,i=$.clientY,r=u.$34i._config;return r.expanded&&r.minimized!==!0&&o.containsPoint(R,{x:O,y:i})?(t.style.cursor="nwse-resize",!0):(t.style.cursor=j,void 0)},handleWindowTouchMove:function(p){p.preventDefault();var v=p;y&&(v=g(p));var z=this,f=z.$40i,c=z.$41i;if(!(c.x==f.x&&c.y==f.y&&o.getDistance(c,{x:v.pageX,y:v.pageY})<=1)){var b=z.$34i,Q=z.getView(),K=Q.parentNode,_=b._config,O=_.resizeMode||"wh",s=v.pageX-f.x,x=v.pageY-f.y,q=b.$2i;if(z.$37i){var W=Q.children[1].children[0],h=Q.offsetWidth,N=W.offsetHeight,e=h+s,F=N+x;e=Math.max(e,100),F=Math.max(F,100),"w"===O?(u(Q,r,e+i),_.width=e):"h"===O?(u(W,T,F+i),_.contentHeight=F):"wh"===O&&(u(Q,r,e+i),u(W,T,F+i),_.width=e,_.contentHeight=F),q.indexOf("right")>=0&&u(Q,I,C(X(Q,I))-(e-h)+i),q.indexOf("Bottom")>=0&&u(Q,E,C(X(Q,E))-(F-N)+i),f.x=v.pageX,f.y=v.pageY;var V=_.content;V&&V.isSelfViewEvent&&(V.setX(0),V.setY(0),V.setWidth(_.width-2*(_.borderWidth||0)),V.setHeight(_.contentHeight)),z.$36i?b.$18i.fire({kind:"betweenResize",target:b,id:b.getView().$15i}):(z.$36i=!0,b.$18i.fire({kind:"beginResize",target:b,id:b.getView().$15i}))}else if(z.$38i){var R,l,U,Y,n,m,S,D,t,k,B=Q.getBoundingClientRect(),Z=B.width,G=B.height,j=J(K),$=j.width,d=j.height,A=b._dragContainment;"leftTop"===q?(R=C(X(Q,L))||0,U=C(X(Q,w))||0,n=R+s,S=U+x,"parent"===A&&(n+Z>$&&(n=$-Z),S+G>d&&(S=d-G),0>n&&(n=0),0>S&&(S=0)),t=n-R,k=S-U,b.setPosition(n,S),f.x+=t,f.y+=k):"rightBottom"===q?(l=C(X(Q,I))||0,Y=C(X(Q,E))||0,m=l-s,D=Y-x,"parent"===A&&(0>m&&(m=0),0>D&&(D=0),m+Z>$&&(m=$-Z),D+G>d&&(D=d-G)),t=m-l,k=D-Y,b.setPosition(m,D),f.x-=t,f.y-=k):"rightTop"===q?(l=C(X(Q,I))||0,U=C(X(Q,w))||0,m=l-s,S=U+x,"parent"===A&&(0>m&&(m=0),0>S&&(S=0),m+Z>$&&(m=$-Z),S+G>d&&(S=d-G)),t=m-l,k=S-U,b.setPosition(m,S),f.x-=t,f.y+=k):"leftBottom"===q&&(R=C(X(Q,L))||0,Y=C(X(Q,E))||0,n=R+s,D=Y-x,"parent"===A&&(0>n&&(n=0),0>D&&(D=0),n+Z>$&&(n=$-Z),D+G>d&&(D=d-G)),t=n-R,k=D-Y,b.setPosition(n,D),f.x+=t,f.y-=k),z.$39i?b.$18i.fire({kind:"betweenMove",target:b,id:b.getView().$15i}):(z.$39i=!0,b.$18i.fire({kind:"beginMove",target:b,id:b.getView().$15i}))}}},handleWindowMouseMove:function(H){this.handleWindowTouchMove(H)}});var f=N.widget.PanelGroup=function(k){var w=this,F=w._view=$.createView(null,w);F.style.border="1px dashed black",F.style.position="absolute",F.style.background="rgba(120, 120, 120, 0.4)",w.$48i=new N.List,w._tolerance=100,w._config=k||{hGap:0,vGap:0},w.bindHandlePanelMove=w.handlePanelMove.bind(w),w.bindHandlePanelEvent=w.handlePanelEvent.bind(w),w.invalidate()};o.def(f,Q,{invalidate:function(){var j=this;j._68I||(j._68I=1,M(function(){j.validate()},50))},validate:function(){if(this._68I){delete this._68I;var u=this.$48i.get(0);if(u){var l=u.getView().parentNode;l&&(this.layoutPanels(l,"leftTop"),this.layoutPanels(l,"rightTop"),this.layoutPanels(l,"leftBottom"),this.layoutPanels(l,"rightBottom"))}}},setLeftTopPanels:function(){var H=this,B=H.$43i,m=H.$48i;B==K&&(B=H.$43i=new N.List);for(var h=0;h<arguments.length;h++){var W=arguments[h];if("string"==typeof W)B.$49i=W;else{if(W._config.flowLayout)continue;W.setPositionRelativeTo("leftTop"),B.contains(W)||B.add(W),m.contains(W)||H.add(W)}}},setRightTopPanels:function(){var f=this,R=f.$44i,V=f.$48i;R==K&&(R=f.$44i=new N.List);for(var U=0;U<arguments.length;U++){var Y=arguments[U];if("string"==typeof Y)R.$49i=Y;else{if(Y._config.flowLayout)continue;Y.setPositionRelativeTo("rightTop"),R.contains(Y)||R.add(Y),V.contains(Y)||f.add(Y)}}},setLeftBottomPanels:function(){var z=this,I=z.$45i,Y=z.$48i;I==K&&(I=z.$45i=new N.List);for(var U=0;U<arguments.length;U++){var h=arguments[U];if("string"==typeof h)I.$49i=h;else{if(h._config.flowLayout)continue;h.setPositionRelativeTo("leftBottom"),I.contains(h)||I.add(h),Y.contains(h)||z.add(h)}}},setRightBottomPanels:function(){var _=this,t=_.$46i,e=_.$48i;t==K&&(t=_.$46i=new N.List);for(var X=0;X<arguments.length;X++){var d=arguments[X];if("string"==typeof d)t.$49i=d;else{if(d._config.flowLayout)continue;d.setPositionRelativeTo("rightBottom"),t.contains(d)||t.add(d),e.contains(d)||_.add(d)}}},add:function(k){if(!k._config.flowLayout){var a=this,j=a.$48i;j.contains(k)||(k.addEventListener(a.bindHandlePanelMove),k.addEventListener(a.bindHandlePanelEvent),j.add(k))}},remove:function(z){var F=this,t=F.$48i;t.contains(z)&&(z.removeEventListener(F.bindHandlePanelMove),z.removeEventListener(F.bindHandlePanelEvent),t.remove(z),F.$43i.contains(z)&&F.$43i.remove(z),F.$44i.contains(z)&&F.$44i.remove(z),F.$45i.contains(z)&&F.$45i.remove(z),F.$46i.contains(z)&&F.$46i.remove(z))},layoutPanels:function(h,$,j){var D=this,J=D._config,F=J.hGap||0,n=J.vGap||0;if(h){var S=D.$43i;if("leftBottom"===$?S=D.$45i:"rightTop"===$?S=D.$44i:"rightBottom"===$&&(S=D.$46i),!S)return;var C=S.$49i,P=F,s=n;if(h.contains(D._view)&&h.removeChild(D._view),S&&S.size()>0)for(var O=0;O<S.size();O++){var M=S.get(O),H=M.getView();h=h||H.parentNode,j!==O?M.setPosition(P,s):("leftTop"===$?(D._view.style.right="",D._view.style.bottom="",D._view.style.left=P+i,D._view.style.top=s+i):"leftBottom"===$?(D._view.style.right="",D._view.style.top="",D._view.style.left=P+i,D._view.style.bottom=s+i):"rightTop"===$?(D._view.style.left="",D._view.style.bottom="",D._view.style.right=P+i,D._view.style.top=s+i):"rightBottom"===$&&(D._view.style.left="",D._view.style.top="",D._view.style.right=P+i,D._view.style.bottom=s+i),D._view.style.width=H.offsetWidth+i,D._view.style.height=H.offsetHeight+i,h.insertBefore(D._view,H)),"h"===C?P+=H.offsetWidth+F:"v"===C&&(s+=H.offsetHeight+n)}}},handlePanelEvent:function(j){if("beginToggle"===j.kind||"endToggle"===j.kind||"beginRestore"===j.kind||"endMinimize"===j.kind||"endResize"===j.kind){var c=this,G=j.target,I=G.getView(),u=I.parentNode,s=c.$43i,T=c.$44i,F=c.$45i,h=c.$46i,W=c._config,P=K,J=K,Y=G.$47i;if(Y==K&&(Y=G.$47i=0),"beginToggle"===j.kind?Y=G.$47i=Y+1:"endToggle"===j.kind&&(Y=G.$47i=Y-1),s&&s.contains(G)?(P="leftTop",J=s):F&&F.contains(G)?(P="leftBottom",J=F):T&&T.contains(G)?(P="rightTop",J=T):h&&h.contains(G)&&(P="rightBottom",J=h),"beginToggle"===j.kind&&P&&1===Y){var x=n(),g=x.style,o=J.$49i,a="each";g.fontSize="0",g.position="absolute",g.width="100%","leftTop"===P?(g.left=0,g.top=0):"leftBottom"===P?(g.left=0,g.bottom=0,"v"===o&&(a="reverseEach")):"rightTop"===P?(g.right=0,g.top=0,g.textAlign="right","h"===o&&(a="reverseEach")):"rightBottom"===P&&(g.right=0,g.bottom=0,g.textAlign="right",a="reverseEach"),J[a](function($){var D=$.getView(),V=D.style,g=n();V.position="static",g.style.textAlign="left",g.style.position="relative",g.style.display="inline-block","leftTop"===P?(g.style.marginLeft=W.hGap+i,g.style.marginTop=W.vGap+i):"leftBottom"===P?(g.style.marginLeft=W.hGap+i,g.style.marginBottom=W.vGap+i):"rightTop"===P?(g.style.marginRight=W.hGap+i,g.style.marginTop=W.vGap+i):"rightBottom"===P&&(g.style.marginRight=W.hGap+i,g.style.marginBottom=W.vGap+i),g.appendChild(D),x.appendChild(g),"h"===o?g.style.verticalAlign="leftTop"===P||"rightTop"===P?"top":"bottom":x.appendChild(m("br"))}),c.$54i=x,u.appendChild(x)}else"endToggle"===j.kind&&P&&0===Y?M(function(){u=u.parentNode.parentNode,u.removeChild(c.$54i),delete c.$54i,J.each(function(E){var f=E.getView(),Z=f.style;Z.position="absolute",u.appendChild(f)}),c.layoutPanels(u,P)},30):("beginRestore"===j.kind||"endMinimize"===j.kind||"endResize"===j.kind)&&P&&c.layoutPanels(u,P)}},handlePanelMove:function(w){if(!(w.kind.indexOf("Move")<0)){var n=this,o=n._config,r=o.hGap||0,R=o.vGap||0,$=w.target,f=$._view,Y=f.getBoundingClientRect(),b=Y.width,D=Y.height,E=b/2,v=D/2,B=f.parentNode,g=n.$43i,q=n.$44i,M=n.$45i,u=n.$46i,O=B.getBoundingClientRect(),s=n._tolerance;if("endMove"===w.kind){var J=n._corner;J&&($.setPositionRelativeTo(J),n.layoutPanels(B,J)),delete n._corner}if("betweenMove"===w.kind){var A=O.left,k=O.top,P=O.width,j=O.height,l=Y.left+b/2,H=Y.top+D/2;g==K&&(g=n.$43i=new N.List),M==K&&(M=n.$45i=new N.List),q==K&&(q=n.$44i=new N.List),u==K&&(u=n.$46i=new N.List),delete n._corner,g.contains($)?(g.remove($),n.layoutPanels(B,"leftTop")):M.contains($)?(M.remove($),n.layoutPanels(B,"leftBottom")):q.contains($)?(q.remove($),n.layoutPanels(B,"rightTop")):u.contains($)&&(u.remove($),n.layoutPanels(B,"rightBottom"));var W=function(F,U){var Z=A+r,D=k+R;if(0===U.size()){var _=Z+E,X=D+v;"leftBottom"===F?X=k+j-R-v:"rightTop"===F?_=A+P-r-E:"rightBottom"===F&&(_=A+P-r-E,X=k+j-R-v);var V=l-_,i=H-X,b=Math.sqrt(V*V+i*i);if(s>b)return n._corner=F,U.add($),n.layoutPanels(B,F,0),!0}else if(1===U.size()){var p=U.get(0),g=p.getView().getBoundingClientRect(),L=g.left+E,t=g.top+v,q=g.left+g.width+r+E,c=D+v,J=Z+E,d=g.top+g.height+R+v;"leftBottom"===F?(t=g.top+g.height-v,c=k+j-R-v,d=g.top-R-v):"rightTop"===F?(L=g.left+g.width-E,q=g.left-r-E,J=A+P-r-E):"rightBottom"===F&&(L=g.left+g.width-E,t=g.top+g.height-v,q=g.left-r-E,c=k+j-R-v,J=A+P-r-E,d=g.top-R-v);var f=l-L,T=H-t,m=l-q,G=H-c,O=l-J,x=H-d,z=C(Math.sqrt(f*f+T*T)),S=C(Math.sqrt(m*m+G*G)),u=C(Math.sqrt(O*O+x*x)),M=[z,S,u];M.sort(function(R,u){return R-u});var W=M[0];if(s>W){if(n._corner=F,W===z)return U.add($,0),n.layoutPanels(B,F,0),!0;if(W===S)return U.add($),U.$49i="h",n.layoutPanels(B,F,1),!0;if(W===u)return U.add($),U.$49i="v",n.layoutPanels(B,F,1),!0}}else if(U.size()>1){for(var a=K,I={},h=[],y=U.$49i,w=0;w<U.size();w++){var o=U.get(w),e=o.getView(),Q=e.getBoundingClientRect(),N=Q.left+E,Y=Q.top+v;"leftBottom"===F?Y=Q.top+Q.height-v:"rightTop"===F?N=Q.left+Q.width-E:"rightBottom"===F&&(N=Q.left+Q.width-E,Y=Q.top+Q.height-v),w===U.size()-1&&(a=Q);var V=l-N,i=H-Y,b=C(Math.sqrt(V*V+i*i));I[b]=w,h.push(b)}"leftTop"===F&&"h"===y?(_=a.left+a.width+r+E,X=D+v):"leftTop"===F&&"v"===y?(_=Z+E,X=a.top+a.height+R+v):"leftBottom"===F&&"h"===y?(_=a.left+a.width+r+E,X=k+j-R-v):"leftBottom"===F&&"v"===y?(_=Z+E,X=a.top-R-v):"rightTop"===F&&"h"===y?(_=a.left-r-E,X=D+v):"rightTop"===F&&"v"===y?(_=A+P-r-E,X=a.top+a.height+R+v):"rightBottom"===F&&"h"===y?(_=a.left-r-E,X=k+j-R-v):"rightBottom"===F&&"v"===y&&(_=A+P-r-E,X=a.top-R-v),V=l-_,i=H-X,b=C(Math.sqrt(V*V+i*i)),I[b]=w,h.push(b),h.sort(function(Y,K){return Y-K});var W=h[0];if(s>W)return n._corner=F,U.add($,I[W]),n.layoutPanels(B,F,I[W]),!0}};W("leftTop",g)||W("leftBottom",M)||W("rightTop",q)||W("rightBottom",u)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);