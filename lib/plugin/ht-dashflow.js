!function(P){"use strict";var g="ht",m=P[g],S=m.Default,Y=Math,f=(Y.PI,Y.sin,Y.cos,Y.atan2,Y.sqrt,Y.max),b=Y.floor,X=(Y.round,Y.ceil),E=m.Shape,h=(m.Edge,m.List),i=m.Style,s=m.graph,j=S.getInternal(),a=j.ui(),z=null,O="prototype",n=P.clearInterval,L=P.setInterval,d=function($){var g=$.data,i=this.dm();if(g&&"add"===$.kind){var R=i.$1c,f=g instanceof E?"shape.":"edge.";R&&g.s(f+"dash.flow")&&R.indexOf(g)<0&&R.push(g)}"clear"===$.kind&&(i.$1c=[])},D=function(b){var q=b.property,U=b.data,u=b.newValue,A=this.dm().$1c,j=U instanceof E?"s:shape.dash.flow":"s:edge.dash.flow";if(A&&q===j)if(u)A.indexOf(U)<0&&A.push(U);else for(var v=A.length,G=0;v>G;G++)if(A[G]===U){A.splice(G,1);break}},M=s.GraphView[O],$=a.EdgeUI[O],x=a.ShapeUI[O],Q=x._80o,p=$._80o,C=m.DataModel[O],y=C.prepareRemove,q=M.setDataModel;i["edge.dash.flow.step"]==z&&(i["edge.dash.flow.step"]=3),i["shape.dash.flow.step"]==z&&(i["shape.dash.flow.step"]=3),C.prepareRemove=function(x){y.call(this,x);var C=x._dataModel,K=C.$1c;if(K)for(var L=K.length,k=0;L>k;k++)if(K[k]===x){K.splice(k,1);break}},M.setDataModel=function(p){var B=this,S=B._dataModel;if(S!==p){S&&(S.umm(d,B),S.umd(D,B),S.$1c=[]),p.mm(d,B),p.md(D,B);var V=p.$1c=[];p.each(function(z){var F=z instanceof E?"shape.":"edge.";z.s(F+"dash.flow")&&V.indexOf(z)<0&&V.push(z)}),q.call(B,p)}},M.setDashFlowInterval=function(T){var U=this,R=U.$2c;U.$2c=T,U.fp("dashFlowInterval",R,T),U.$3c!=z&&(n(U.$3c),delete U.$3c,U.enableDashFlow(T))},M.getDashFlowInterval=function(){return this.$2c},M.$4c=function(){var r,I,Y,v=this,a=v.tx(),H=v.ty(),N=v._zoom,w=v.getWidth(),p=v.getHeight(),i={x:-a/N,y:-H/N,width:w/N,height:p/N},Q=v.dm().$1c,k=v._56I,u=new h;if(Q.forEach(function(L){k[L.getId()]&&(r=v.getDataUI(L),r&&(Y=r._79o(),Y&&u.add(Y)))}),0!==u.size()&&(u.each(function(D){S.intersectsRect(i,D)&&(I=S.unionRect(I,D))}),I&&(I&&(S.grow(I,f(1,1/N)),I.x=b(I.x*N)/N,I.y=b(I.y*N)/N,I.width=X(I.width*N)/N,I.height=X(I.height*N)/N,I=S.intersection(i,I)),I))){var T=v._canvas.getContext("2d");T.save(),T.lineCap=S.lineCap,T.lineJoin=S.lineJoin,j.translateAndScale(T,a,H,N),T.beginPath(),T.rect(I.x,I.y,I.width,I.height),T.clip(),T.clearRect(I.x,I.y,I.width,I.height),v.$5c(T,I),T.restore()}},M.$5c=function(b,J){var e,o,D=this;D._93db(b),D.each(function(B){D._56I[B._id]&&(e=D.getDataUI(B),e&&(o=e._79o(),(!J||S.intersectsRect(J,o))&&(e.$7c=!0,e._42(b),delete e.$7c)))}),D._92db(b)},M.enableDashFlow=function(V){var T=this;T.$3c==z&&(T.$3c=L(function(){T.$4c()},V||T.$2c||50))},M.disableDashFlow=function(){var t=this;n(t.$3c),delete t.$3c};var J=function(){var z=this,J=z._data,e=J instanceof E?"shape.":"edge.",p=J.s(e+"dash.pattern"),Q=J.s(e+"dash.flow.reverse");if(p&&J.s(e+"dash")&&J.s(e+"dash.flow")&&z.$7c){var D=z.s(e+"dash.offset")||0,G=J.s(e+"dash.flow.step"),y=J.getStyleMap(),X=0;p.forEach(function(J){X+=J}),Q&&(G=-G),D-=G,D%=X,y||(J._styleMap=y={}),y[e+"dash.offset"]=D}};$._80o=function(P){p.call(this,P),J.call(this)},x._80o=function(I){Q.call(this,I),J.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);